

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="zh-cn" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="zh-cn" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>CSS Patterns &mdash; JupyterLab 0.18.4 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Writing Documentation" href="documentation.html" />
    <link rel="prev" title="Design Patterns" href="patterns.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> JupyterLab
          

          
          </a>

          
            
            
              <div class="version">
                0.18.4
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/starting.html">Starting JupyterLab</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/faq.html">Frequently Asked Questions (FAQ)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/changelog.html">JupyterLab Changelog</a></li>
</ul>
<p class="caption"><span class="caption-text">User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../user/interface.html">The JupyterLab Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/urls.html">JupyterLab URLs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/files.html">Working with Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/file_editor.html">Text Editor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/notebook.html">Notebooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/code_console.html">Code Consoles</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/terminal.html">Terminals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/running.html">Managing Kernels and Terminals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/commands.html">Command Palette</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/documents_kernels.html">Documents and Kernels</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/file_formats.html">File and Output Formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/extensions.html">Extensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/jupyterhub.html">JupyterLab on JupyterHub</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer Guide</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="repo.html">General Codebase Orientation</a></li>
<li class="toctree-l1"><a class="reference internal" href="extension_dev.html">Extension Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="documents.html">Documents</a></li>
<li class="toctree-l1"><a class="reference internal" href="documents.html#overview-of-document-architecture">Overview of document architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="notebook.html">Notebook</a></li>
<li class="toctree-l1"><a class="reference internal" href="patterns.html">Design Patterns</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">CSS Patterns</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#css-checklist">CSS checklist</a></li>
<li class="toctree-l2"><a class="reference internal" href="#css-variables">CSS variables</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#naming-of-css-variables">Naming of CSS variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="#public-private">Public/private</a></li>
<li class="toctree-l3"><a class="reference internal" href="#css-variable-usage">CSS variable usage</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#file-organization">File organization</a></li>
<li class="toctree-l2"><a class="reference internal" href="#css-class-names">CSS class names</a></li>
<li class="toctree-l2"><a class="reference internal" href="#edge-cases">Edge cases</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="documentation.html">Writing Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="virtualdom.html">Virtual DOM and React</a></li>
<li class="toctree-l1"><a class="reference internal" href="adding_content.html">Adding Content</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="terminology.html">Terminology</a></li>
<li class="toctree-l1"><a class="reference internal" href="xkcd_extension_tutorial.html">Let’s Make an xkcd JupyterLab Extension</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">JupyterLab</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
  <li><a href="../index.html">Docs</a> &raquo;</li>
    
  <li>CSS Patterns</li>

    
    <li class="wy-breadcrumbs-aside">
    
      
      
        <a href="https://github.com/denlly/jupyter-doc/blob/master/docs/source/developer/css.rst" class="fa fa-github"> Edit on GitHub</a>
      
      
    
    </li>
    <li class="wy-breadcrumbs-aside">
      <a href="https://jupyter.org/documentation">
        <img src="../_static/jupyter_logo.svg"></img>
        Jupyter
      </a>
      &vert;
      &nbsp;
    </li>

  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="css-patterns">
<h1>CSS Patterns<a class="headerlink" href="#css-patterns" title="Permalink to this headline">¶</a></h1>
<p>This document describes the patterns we are using to organize and write
CSS for JupyterLab. JupyterLab is developed using a set of npm packages
that are located in <code class="docutils literal notranslate"><span class="pre">packages</span></code>. Each of these packages has its own
style, but depend on CSS variables dfined in a main theme package.</p>
<div class="section" id="css-checklist">
<h2>CSS checklist<a class="headerlink" href="#css-checklist" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>CSS classnames are defined inline in the code. We used to put them as
all caps file-level <code class="docutils literal notranslate"><span class="pre">const</span></code>s, but we are moving away from that.</li>
<li>CSS files for packages are located within the <code class="docutils literal notranslate"><span class="pre">style</span></code>
subdirectory and imported into the plugin’s <code class="docutils literal notranslate"><span class="pre">index.css</span></code>.</li>
<li>The JupyterLab default CSS variables in the <code class="docutils literal notranslate"><span class="pre">theme-light-extension</span></code>
and <code class="docutils literal notranslate"><span class="pre">theme-dark-extension</span></code> packages are used to style packages
where ever possible. Individual packages should not npm-depend on
these packages though, to enable the theme to be swapped out.</li>
<li>Additional public/private CSS variables are defined by plugins
sparingly and in accordance with the conventions described below.</li>
</ul>
</div>
<div class="section" id="css-variables">
<h2>CSS variables<a class="headerlink" href="#css-variables" title="Permalink to this headline">¶</a></h2>
<p>We are using native CSS variables in JupyterLab. This is to enable
dynamic theming of built-in and third party plugins. As of December
2017, CSS variables are supported in the latest stable versions of all
popular browsers, except for IE. If a JupyterLab deployment needs to
support these browsers, a server side CSS preprocessor such as Myth or
cssnext may be used.</p>
<div class="section" id="naming-of-css-variables">
<h3>Naming of CSS variables<a class="headerlink" href="#naming-of-css-variables" title="Permalink to this headline">¶</a></h3>
<p>We use the following convention for naming CSS variables:</p>
<ul class="simple">
<li>Start all CSS variables with <code class="docutils literal notranslate"><span class="pre">--jp-</span></code>.</li>
<li>Words in the variable name should be lowercase and separated with
<code class="docutils literal notranslate"><span class="pre">-</span></code>.</li>
<li>The next segment should refer to the component and subcomponent, such
as <code class="docutils literal notranslate"><span class="pre">--jp-notebook-cell-</span></code>.</li>
<li>The next segment should refer to any state modifiers such as
<code class="docutils literal notranslate"><span class="pre">active</span></code>, <code class="docutils literal notranslate"><span class="pre">not-active</span></code> or <code class="docutils literal notranslate"><span class="pre">focused</span></code>:
<code class="docutils literal notranslate"><span class="pre">--jp-notebook-cell-focused</span></code>.</li>
<li>The final segment will typically be related to a CSS properties, such
as <code class="docutils literal notranslate"><span class="pre">color</span></code>, <code class="docutils literal notranslate"><span class="pre">font-size</span></code> or <code class="docutils literal notranslate"><span class="pre">background</span></code>:
<code class="docutils literal notranslate"><span class="pre">--jp-notebook-cell-focused-background</span></code>.</li>
</ul>
</div>
<div class="section" id="public-private">
<h3>Public/private<a class="headerlink" href="#public-private" title="Permalink to this headline">¶</a></h3>
<p>Some CSS variables in JupyterLab are considered part of our public API.
Others are considered private and should not be used by third party
plugins or themes. The difference between public and private variables
is simple:</p>
<ul class="simple">
<li>All private variables begin with <code class="docutils literal notranslate"><span class="pre">--jp-private-</span></code></li>
<li>All variables without the <code class="docutils literal notranslate"><span class="pre">private-</span></code> prefix are public.</li>
<li>Public variables should be defined under the <code class="docutils literal notranslate"><span class="pre">:root</span></code>
pseudo-selector. This ensures that public CSS variables can be
inspected under the top-level <code class="docutils literal notranslate"><span class="pre">&lt;html&gt;</span></code> tag in the browser’s dev
tools.</li>
<li>Where possible, private variables should be defined and scoped under
an appropriate selector other than <code class="docutils literal notranslate"><span class="pre">:root</span></code>.</li>
</ul>
</div>
<div class="section" id="css-variable-usage">
<h3>CSS variable usage<a class="headerlink" href="#css-variable-usage" title="Permalink to this headline">¶</a></h3>
<p>JupyterLab includes a default set of CSS variables in the file:</p>
<p><code class="docutils literal notranslate"><span class="pre">packages/theme-light-extension/style/variables.css</span></code></p>
<p>To ensure consistent design in JupyterLab, all built-in and third party
extensions should use these variables in their styles if at all
possible. Documentation about those variables can be found in the
<code class="docutils literal notranslate"><span class="pre">variables.css</span></code> file itself.</p>
<p>Plugins are free to define additional public and private CSS variables
in their own <code class="docutils literal notranslate"><span class="pre">index.css</span></code> file, but should do so sparingly.</p>
<p>Again, we consider the names of the public CSS variables in this package
to be our public API for CSS.</p>
</div>
</div>
<div class="section" id="file-organization">
<h2>File organization<a class="headerlink" href="#file-organization" title="Permalink to this headline">¶</a></h2>
<p>We are organizing our CSS files in the following manner:</p>
<ul class="simple">
<li>Each package in the top-level <code class="docutils literal notranslate"><span class="pre">packages</span></code> directory should contain
any CSS files in a <code class="docutils literal notranslate"><span class="pre">style</span></code> subdirectory that are needed to style
itself.</li>
<li>Multiple CSS files may be used and organized as needed, but they
should be imported into a single <code class="docutils literal notranslate"><span class="pre">index.css</span></code> at the top-level of
the plugin as <cite>import ‘../style/index.css’;</cite>.</li>
</ul>
</div>
<div class="section" id="css-class-names">
<h2>CSS class names<a class="headerlink" href="#css-class-names" title="Permalink to this headline">¶</a></h2>
<p>We have a fairly formal method for naming our CSS classes.</p>
<p>First, CSS class names are associated with TypeScript classes that
extend <code class="docutils literal notranslate"><span class="pre">phosphor.Widget</span></code>:</p>
<p>The <code class="docutils literal notranslate"><span class="pre">.node</span></code> of each such widget should have a CSS class that matches
the name of the TypeScript class:</p>
<div class="code TypeScript highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyWidget</span> <span class="n">extends</span> <span class="n">Widget</span> <span class="p">{</span>

  <span class="n">constructor</span><span class="p">()</span> <span class="p">{</span>
    <span class="nb">super</span><span class="p">();</span>
    <span class="n">this</span><span class="o">.</span><span class="n">addClass</span><span class="p">(</span><span class="s1">&#39;jp-MyWidget&#39;</span><span class="p">);</span>
  <span class="p">}</span>

<span class="p">}</span>
</pre></div>
</div>
<p>Second, subclasses should have a CSS class for both the parent and
child:</p>
<div class="code TypeScript highlight-default notranslate"><div class="highlight"><pre><span></span>class MyWidgetSubclass extends MyWidget {

  constructor() {
    super(); // Adds `jp-MyWidget`
    this.addClass(&#39;jp-MyWidgetSubclass&#39;);
  }

}
</pre></div>
</div>
<p>In both of these cases, CSS class names with caps-case are reserved for
situations where there is a named TypeScript <code class="docutils literal notranslate"><span class="pre">Widget</span></code> subclass. These
classes are a way of a TypeScript class providing a public API for
styling.</p>
<p>Third, children nodes of a <code class="docutils literal notranslate"><span class="pre">Widget</span></code> should have a third segment in the
CSS class name that gives a semantic naming of the component, such as:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">jp-MyWidget-toolbar</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">jp-MyWidget-button</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">jp-MyWidget-contentButton</span></code></li>
</ul>
<p>In general, the parent <code class="docutils literal notranslate"><span class="pre">MyWidget</span></code> should add these classes to the
children. This applies when the children are plain DOM nodes or
<code class="docutils literal notranslate"><span class="pre">Widget</span></code> instances/subclasses themselves. Thus, the general naming of
CSS classes is of the form <code class="docutils literal notranslate"><span class="pre">jp-WidgetName-semanticChild</span></code>. This enables
the styling of these children in a manner that is independent of the
children implementation or CSS classes they have themselves.</p>
<p>Fourth, some CSS classes are used to modify the state of a widget:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">jp-mod-active</span></code>: applied to elements in the active state</li>
<li><code class="docutils literal notranslate"><span class="pre">jp-mod-hover</span></code>: applied to elements in the hover state</li>
<li><code class="docutils literal notranslate"><span class="pre">jp-mod-selected</span></code>: applied to elements while selected</li>
</ul>
<p>Fifth, some CSS classes are used to distinguish different types of a
widget:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">jp-type-separator</span></code>: applied to menu items that are separators</li>
<li><code class="docutils literal notranslate"><span class="pre">jp-type-directory</span></code>: applied to elements in the file browser that
are directories</li>
</ul>
</div>
<div class="section" id="edge-cases">
<h2>Edge cases<a class="headerlink" href="#edge-cases" title="Permalink to this headline">¶</a></h2>
<p>Over time, we have found that there are some edge cases that these rules
don’t fully address. Here, we try to clarify those edge cases.</p>
<p><strong>When should a parent add a class to children?</strong></p>
<p>Above, we state that a parent (<code class="docutils literal notranslate"><span class="pre">MyWidget</span></code>), should add CSS classes to
children that indicate the semantic function of the child. Thus, the
<code class="docutils literal notranslate"><span class="pre">MyWidget</span></code> subclass of <code class="docutils literal notranslate"><span class="pre">Widget</span></code> should add <code class="docutils literal notranslate"><span class="pre">jp-MyWidget</span></code> to itself
and <code class="docutils literal notranslate"><span class="pre">jp-MyWidget-toolbar</span></code> to a toolbar child.</p>
<p>What if the child itself is a <code class="docutils literal notranslate"><span class="pre">Widget</span></code> and already has a proper CSS
class name itself, such as <code class="docutils literal notranslate"><span class="pre">jp-Toolbar</span></code>? Why not use selectors such as
<code class="docutils literal notranslate"><span class="pre">.jp-MyWidget</span> <span class="pre">.jp-Toolbar</span></code> or <code class="docutils literal notranslate"><span class="pre">.jp-MyWidget</span> <span class="pre">&gt;</span> <span class="pre">.jp-Toolbar</span></code>?</p>
<p>The reason is that these selectors are dependent on the implementation
of the toolbar having the <code class="docutils literal notranslate"><span class="pre">jp-Toolbar</span></code> CSS class. When <code class="docutils literal notranslate"><span class="pre">MyWidget</span></code>
adds the <code class="docutils literal notranslate"><span class="pre">jp-MyWidget-toolbar</span></code> class, it can style the child
independent of its implementation. The other reason to add the
<code class="docutils literal notranslate"><span class="pre">jp-MyWidget-toolbar</span></code> class is if the DOM structure is highly
recursive, the usual descendant selectors may not be specific to target
only the desired children.</p>
<p>When in doubt, there is little harm done in parents adding selectors to
children.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="documentation.html" class="btn btn-neutral float-right" title="Writing Documentation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="patterns.html" class="btn btn-neutral" title="Design Patterns" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Project Jupyter.<br/>
        The Jupyter Trademark is registered with the U.S. Patent &amp Trademark Office.
        

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.18.4',
            LANGUAGE:'zh-cn',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>