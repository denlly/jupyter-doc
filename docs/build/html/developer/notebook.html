

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="zh-cn" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="zh-cn" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Notebook &mdash; JupyterLab 0.18.4 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Design Patterns" href="patterns.html" />
    <link rel="prev" title="Documents" href="documents.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> JupyterLab
          

          
          </a>

          
            
            
              <div class="version">
                0.18.4
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/starting.html">Starting JupyterLab</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/faq.html">Frequently Asked Questions (FAQ)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/changelog.html">JupyterLab Changelog</a></li>
</ul>
<p class="caption"><span class="caption-text">User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../user/interface.html">The JupyterLab Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/urls.html">JupyterLab URLs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/files.html">Working with Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/file_editor.html">Text Editor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/notebook.html">Notebooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/code_console.html">Code Consoles</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/terminal.html">Terminals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/running.html">Managing Kernels and Terminals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/commands.html">Command Palette</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/documents_kernels.html">Documents and Kernels</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/file_formats.html">File and Output Formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/extensions.html">Extensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/jupyterhub.html">JupyterLab on JupyterHub</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer Guide</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="repo.html">General Codebase Orientation</a></li>
<li class="toctree-l1"><a class="reference internal" href="extension_dev.html">Extension Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="documents.html">Documents</a></li>
<li class="toctree-l1"><a class="reference internal" href="documents.html#overview-of-document-architecture">Overview of document architecture</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Notebook</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#background">Background</a></li>
<li class="toctree-l2"><a class="reference internal" href="#structure-of-the-notebook-plugin">Structure of the Notebook plugin</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#model">Model</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#cell-operations">Cell operations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#metadata">Metadata</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#notebook-widget">Notebook widget</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#higher-level-actions-using-notebookactions">Higher level actions using NotebookActions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#widget-hierarchy">Widget hierarchy</a></li>
<li class="toctree-l4"><a class="reference internal" href="#rendering-output-messages">Rendering output messages</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#how-to-extend-the-notebook-plugin">How to extend the Notebook plugin</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#adding-a-button-to-the-toolbar">Adding a button to the toolbar</a></li>
<li class="toctree-l3"><a class="reference internal" href="#the-ipywidgets-third-party-extension">The <em>ipywidgets</em> third party extension</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="patterns.html">Design Patterns</a></li>
<li class="toctree-l1"><a class="reference internal" href="css.html">CSS Patterns</a></li>
<li class="toctree-l1"><a class="reference internal" href="documentation.html">Writing Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="virtualdom.html">Virtual DOM and React</a></li>
<li class="toctree-l1"><a class="reference internal" href="adding_content.html">Adding Content</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="terminology.html">Terminology</a></li>
<li class="toctree-l1"><a class="reference internal" href="xkcd_extension_tutorial.html">Let’s Make an xkcd JupyterLab Extension</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">JupyterLab</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
  <li><a href="../index.html">Docs</a> &raquo;</li>
    
  <li>Notebook</li>

    
    <li class="wy-breadcrumbs-aside">
    
      
      
        <a href="https://github.com/denlly/jupyter-doc/blob/master/docs/source/developer/notebook.rst" class="fa fa-github"> Edit on GitHub</a>
      
      
    
    </li>
    <li class="wy-breadcrumbs-aside">
      <a href="https://jupyter.org/documentation">
        <img src="../_static/jupyter_logo.svg"></img>
        Jupyter
      </a>
      &vert;
      &nbsp;
    </li>

  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="notebook">
<h1>Notebook<a class="headerlink" href="#notebook" title="Permalink to this headline">¶</a></h1>
<div class="section" id="background">
<h2>Background<a class="headerlink" href="#background" title="Permalink to this headline">¶</a></h2>
<p id="architecture-walkthrough">A JupyterLab architecture walkthrough from June 16, 2016, provides an overview of the notebook architecture.</p>
<div class="jp-youtube-video">
   <iframe src="https://www.youtube-nocookie.com/embed/4Qm6oD_Rlw8?rel=0&amp;showinfo=0&amp;start=3326" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
</div><p>The most complicated plugin included in the <strong>JupyterLab application</strong>
is the <strong>Notebook plugin</strong>.</p>
<p>The
<a class="reference external" href="http://jupyterlab.github.io/jupyterlab/classes/_notebook_src_widgetfactory_.notebookwidgetfactory.html">NotebookWidgetFactory</a>
constructs a new
<a class="reference external" href="http://jupyterlab.github.io/jupyterlab/classes/_notebook_src_panel_.notebookpanel.html">NotebookPanel</a>
from a model and populates the toolbar with default widgets.</p>
</div>
<div class="section" id="structure-of-the-notebook-plugin">
<h2>Structure of the Notebook plugin<a class="headerlink" href="#structure-of-the-notebook-plugin" title="Permalink to this headline">¶</a></h2>
<p>The Notebook plugin provides a model and widgets for dealing with
notebook files.</p>
<div class="section" id="model">
<h3>Model<a class="headerlink" href="#model" title="Permalink to this headline">¶</a></h3>
<p>The
<a class="reference external" href="http://jupyterlab.github.io/jupyterlab/classes/_notebook_src_model_.notebookmodel.html">NotebookModel</a>
contains an observable list of cells.</p>
<p>A <a class="reference external" href="http://jupyterlab.github.io/jupyterlab/modules/_cells_src_model_.html">cell
model</a>
can be:</p>
<ul class="simple">
<li>a code cell</li>
<li>a markdown cell</li>
<li>raw cell</li>
</ul>
<p>A code cell contains a list of <strong>output models</strong>. The list of cells and
the list of outputs can be observed for changes.</p>
<div class="section" id="cell-operations">
<h4>Cell operations<a class="headerlink" href="#cell-operations" title="Permalink to this headline">¶</a></h4>
<p>The NotebookModel cell list supports single-step operations such as
moving, adding, or deleting cells. Compound cell list operations, such
as undo/redo, are also supported by the NotebookModel. Right now,
undo/redo is only supported on cells and is not supported on notebook
attributes, such as notebook metadata. Currently, undo/redo for
individual cell input content is supported by the CodeMirror editor’s
undo feature. (Note: CodeMirror editor’s undo does not cover cell
metadata changes.)</p>
</div>
<div class="section" id="metadata">
<h4>Metadata<a class="headerlink" href="#metadata" title="Permalink to this headline">¶</a></h4>
<p>The notebook model and the cell model (i.e. notebook cells) support
getting and setting metadata through an
<a class="reference external" href="http://jupyterlab.github.io/jupyterlab/modules/_observables_src_observablejson_.iobservablejson.html">IObservableJSON</a>
object. You can use this to get and set notebook/cell metadata,
as well as subscribe to changes to it.</p>
</div>
</div>
<div class="section" id="notebook-widget">
<h3>Notebook widget<a class="headerlink" href="#notebook-widget" title="Permalink to this headline">¶</a></h3>
<p>After the NotebookModel is created, the NotebookWidgetFactory constructs
a new NotebookPanel from the model. The NotebookPanel widget is added to
the DockPanel. The <strong>NotebookPanel</strong> contains:</p>
<ul class="simple">
<li>a
<a class="reference external" href="http://jupyterlab.github.io/jupyterlab/modules/_apputils_src_toolbar_.html">Toolbar</a></li>
<li>a <a class="reference external" href="http://jupyterlab.github.io/jupyterlab/classes/_notebook_src_widget_.notebook.html">Notebook
widget</a>.</li>
</ul>
<p>The NotebookPanel also adds completion logic.</p>
<p>The <strong>NotebookToolbar</strong> maintains a list of widgets to add to the
toolbar. The <strong>Notebook widget</strong> contains the rendering of the notebook
and handles most of the interaction logic with the notebook itself (such
as keeping track of interactions such as selected and active cells and
also the current edit/command mode).</p>
<p>The NotebookModel cell list provides ways to do fine-grained changes to
the cell list.</p>
<div class="section" id="higher-level-actions-using-notebookactions">
<h4>Higher level actions using NotebookActions<a class="headerlink" href="#higher-level-actions-using-notebookactions" title="Permalink to this headline">¶</a></h4>
<p>Higher-level actions are contained in the
<a class="reference external" href="http://jupyterlab.github.io/jupyterlab/classes/_notebook_src_actions_.notebookactions.html">NotebookActions</a>
namespace, which has functions, when given a notebook widget, to run a
cell and select the next cell, merge or split cells at the cursor,
delete selected cells, etc.</p>
</div>
<div class="section" id="widget-hierarchy">
<h4>Widget hierarchy<a class="headerlink" href="#widget-hierarchy" title="Permalink to this headline">¶</a></h4>
<p>A Notebook widget contains a list of <a class="reference external" href="http://jupyterlab.github.io/jupyterlab/modules/_cells_src_widget_.html">cell
widgets</a>,
corresponding to the cell models in its cell list.</p>
<ul class="simple">
<li>Each cell widget contains an
<a class="reference external" href="http://jupyterlab.github.io/jupyterlab/classes/_cells_src_inputarea_.inputarea.html">InputArea</a>,<ul>
<li>which contains n
<a class="reference external" href="http://jupyterlab.github.io/jupyterlab/classes/_codeeditor_src_widget_.codeeditorwrapper.html">CodeEditorWrapper</a>,<ul>
<li>which contains a JavaScript CodeMirror instance.</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>A
<a class="reference external" href="http://jupyterlab.github.io/jupyterlab/classes/_cells_src_widget_.codecell.html">CodeCell</a>
also contains an
<a class="reference external" href="http://jupyterlab.github.io/jupyterlab/classes/_outputarea_src_widget_.outputarea.html">OutputArea</a>.
An OutputArea is responsible for rendering the outputs in the
<a class="reference external" href="http://jupyterlab.github.io/jupyterlab/classes/_outputarea_src_model_.outputareamodel.html">OutputAreaModel</a>
list. An OutputArea uses a notebook-specific
<a class="reference external" href="http://jupyterlab.github.io/jupyterlab/classes/_rendermime_src_registry_.rendermimeregistry.html">RenderMimeRegistry</a>
object to render <code class="docutils literal notranslate"><span class="pre">display_data</span></code> output messages.</p>
</div>
<div class="section" id="rendering-output-messages">
<h4>Rendering output messages<a class="headerlink" href="#rendering-output-messages" title="Permalink to this headline">¶</a></h4>
<p>A <strong>Rendermime plugin</strong> provides a pluggable system for rendering output
messages. Default renderers are provided for markdown, html, images,
text, etc. Extensions can register renderers to be used across the
entire application by registering a handler and mimetype in the
rendermime registry. When a notebook is created, it copies the global
Rendermime singleton so that notebook-specific renderers can be added.
The ipywidgets widget manager is an example of an extension that adds a
notebook-specific renderer, since rendering a widget depends on
notebook-specific widget state.</p>
</div>
</div>
</div>
<div class="section" id="how-to-extend-the-notebook-plugin">
<h2>How to extend the Notebook plugin<a class="headerlink" href="#how-to-extend-the-notebook-plugin" title="Permalink to this headline">¶</a></h2>
<p>We’ll walk through two notebook extensions:</p>
<ul class="simple">
<li>adding a button to the toolbar</li>
<li>adding an ipywidgets extension</li>
</ul>
<div class="section" id="adding-a-button-to-the-toolbar">
<h3>Adding a button to the toolbar<a class="headerlink" href="#adding-a-button-to-the-toolbar" title="Permalink to this headline">¶</a></h3>
<p>Start from the cookie cutter extension template.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">cookiecutter</span>
<span class="n">cookiecutter</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">jupyterlab</span><span class="o">/</span><span class="n">extension</span><span class="o">-</span><span class="n">cookiecutter</span><span class="o">-</span><span class="n">ts</span>
<span class="n">cd</span> <span class="n">my</span><span class="o">-</span><span class="n">cookie</span><span class="o">-</span><span class="n">cutter</span><span class="o">-</span><span class="n">name</span>
</pre></div>
</div>
<p>Install the dependencies. Note that extensions are built against the
released npm packages, not the development versions.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">npm</span> <span class="n">install</span> <span class="o">--</span><span class="n">save</span> <span class="nd">@jupyterlab</span><span class="o">/</span><span class="n">notebook</span> <span class="nd">@jupyterlab</span><span class="o">/</span><span class="n">application</span> <span class="nd">@jupyterlab</span><span class="o">/</span><span class="n">apputils</span> <span class="nd">@jupyterlab</span><span class="o">/</span><span class="n">docregistry</span> <span class="nd">@phosphor</span><span class="o">/</span><span class="n">disposable</span>
</pre></div>
</div>
<p>Copy the following to <code class="docutils literal notranslate"><span class="pre">src/index.ts</span></code>:</p>
<div class="code typescript highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="p">{</span>
  <span class="n">IDisposable</span><span class="p">,</span> <span class="n">DisposableDelegate</span>
<span class="p">}</span> <span class="kn">from</span> <span class="s1">&#39;@phosphor/disposable&#39;</span><span class="p">;</span>

<span class="kn">import</span> <span class="p">{</span>
  <span class="n">JupyterLab</span><span class="p">,</span> <span class="n">JupyterLabPlugin</span>
<span class="p">}</span> <span class="kn">from</span> <span class="s1">&#39;@jupyterlab/application&#39;</span><span class="p">;</span>

<span class="kn">import</span> <span class="p">{</span>
  <span class="n">ToolbarButton</span>
<span class="p">}</span> <span class="kn">from</span> <span class="s1">&#39;@jupyterlab/apputils&#39;</span><span class="p">;</span>

<span class="kn">import</span> <span class="p">{</span>
  <span class="n">DocumentRegistry</span>
<span class="p">}</span> <span class="kn">from</span> <span class="s1">&#39;@jupyterlab/docregistry&#39;</span><span class="p">;</span>

<span class="kn">import</span> <span class="p">{</span>
  <span class="n">NotebookActions</span><span class="p">,</span> <span class="n">NotebookPanel</span><span class="p">,</span> <span class="n">INotebookModel</span>
<span class="p">}</span> <span class="kn">from</span> <span class="s1">&#39;@jupyterlab/notebook&#39;</span><span class="p">;</span>


<span class="o">/**</span>
 <span class="o">*</span> <span class="n">The</span> <span class="n">plugin</span> <span class="n">registration</span> <span class="n">information</span><span class="o">.</span>
 <span class="o">*/</span>
<span class="n">const</span> <span class="n">plugin</span><span class="p">:</span> <span class="n">JupyterLabPlugin</span><span class="o">&lt;</span><span class="n">void</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">{</span>
  <span class="n">activate</span><span class="p">,</span>
  <span class="nb">id</span><span class="p">:</span> <span class="s1">&#39;my-extension-name:buttonPlugin&#39;</span><span class="p">,</span>
  <span class="n">autoStart</span><span class="p">:</span> <span class="n">true</span>
<span class="p">};</span>


<span class="o">/**</span>
 <span class="o">*</span> <span class="n">A</span> <span class="n">notebook</span> <span class="n">widget</span> <span class="n">extension</span> <span class="n">that</span> <span class="n">adds</span> <span class="n">a</span> <span class="n">button</span> <span class="n">to</span> <span class="n">the</span> <span class="n">toolbar</span><span class="o">.</span>
 <span class="o">*/</span>
<span class="n">export</span>
<span class="k">class</span> <span class="nc">ButtonExtension</span> <span class="n">implements</span> <span class="n">DocumentRegistry</span><span class="o">.</span><span class="n">IWidgetExtension</span><span class="o">&lt;</span><span class="n">NotebookPanel</span><span class="p">,</span> <span class="n">INotebookModel</span><span class="o">&gt;</span> <span class="p">{</span>
  <span class="o">/**</span>
   <span class="o">*</span> <span class="n">Create</span> <span class="n">a</span> <span class="n">new</span> <span class="n">extension</span> <span class="nb">object</span><span class="o">.</span>
   <span class="o">*/</span>
  <span class="n">createNew</span><span class="p">(</span><span class="n">panel</span><span class="p">:</span> <span class="n">NotebookPanel</span><span class="p">,</span> <span class="n">context</span><span class="p">:</span> <span class="n">DocumentRegistry</span><span class="o">.</span><span class="n">IContext</span><span class="o">&lt;</span><span class="n">INotebookModel</span><span class="o">&gt;</span><span class="p">):</span> <span class="n">IDisposable</span> <span class="p">{</span>
    <span class="n">let</span> <span class="n">callback</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="n">NotebookActions</span><span class="o">.</span><span class="n">runAll</span><span class="p">(</span><span class="n">panel</span><span class="o">.</span><span class="n">content</span><span class="p">,</span> <span class="n">context</span><span class="o">.</span><span class="n">session</span><span class="p">);</span>
    <span class="p">};</span>
    <span class="n">let</span> <span class="n">button</span> <span class="o">=</span> <span class="n">new</span> <span class="n">ToolbarButton</span><span class="p">({</span>
      <span class="n">className</span><span class="p">:</span> <span class="s1">&#39;myButton&#39;</span><span class="p">,</span>
      <span class="n">iconClassName</span><span class="p">:</span> <span class="s1">&#39;fa fa-fast-forward&#39;</span><span class="p">,</span>
      <span class="n">onClick</span><span class="p">:</span> <span class="n">callback</span><span class="p">,</span>
      <span class="n">tooltip</span><span class="p">:</span> <span class="s1">&#39;Run All&#39;</span>
    <span class="p">});</span>

    <span class="n">panel</span><span class="o">.</span><span class="n">toolbar</span><span class="o">.</span><span class="n">insertItem</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;runAll&#39;</span><span class="p">,</span> <span class="n">button</span><span class="p">);</span>
    <span class="k">return</span> <span class="n">new</span> <span class="n">DisposableDelegate</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="n">button</span><span class="o">.</span><span class="n">dispose</span><span class="p">();</span>
    <span class="p">});</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="o">/**</span>
 <span class="o">*</span> <span class="n">Activate</span> <span class="n">the</span> <span class="n">extension</span><span class="o">.</span>
 <span class="o">*/</span>
<span class="n">function</span> <span class="n">activate</span><span class="p">(</span><span class="n">app</span><span class="p">:</span> <span class="n">JupyterLab</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">app</span><span class="o">.</span><span class="n">docRegistry</span><span class="o">.</span><span class="n">addWidgetExtension</span><span class="p">(</span><span class="s1">&#39;Notebook&#39;</span><span class="p">,</span> <span class="n">new</span> <span class="n">ButtonExtension</span><span class="p">());</span>
<span class="p">};</span>


<span class="o">/**</span>
 <span class="o">*</span> <span class="n">Export</span> <span class="n">the</span> <span class="n">plugin</span> <span class="k">as</span> <span class="n">default</span><span class="o">.</span>
 <span class="o">*/</span>
<span class="n">export</span> <span class="n">default</span> <span class="n">plugin</span><span class="p">;</span>
</pre></div>
</div>
<p>Run the following commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">npm</span> <span class="n">install</span>
<span class="n">npm</span> <span class="n">run</span> <span class="n">build</span>
<span class="n">jupyter</span> <span class="n">labextension</span> <span class="n">install</span> <span class="o">.</span>
<span class="n">jupyter</span> <span class="n">lab</span>
</pre></div>
</div>
<p>Open a notebook and observe the new “Run All” button.</p>
</div>
<div class="section" id="the-ipywidgets-third-party-extension">
<h3>The <em>ipywidgets</em> third party extension<a class="headerlink" href="#the-ipywidgets-third-party-extension" title="Permalink to this headline">¶</a></h3>
<p>This discussion will be a bit confusing since we’ve been using the term
<em>widget</em> to refer to <em>phosphor widgets</em>. In the discussion below,
<em>ipython widgets</em> will be referred to as <em>ipywidgets</em>. There is no
intrinsic relation between <em>phosphor widgets</em> and <em>ipython widgets</em>.</p>
<p>The <em>ipywidgets</em> extension registers a factory for a notebook <em>widget</em>
extension using the <a class="reference external" href="http://jupyterlab.github.io/jupyterlab/classes/_docregistry_src_registry_.documentregistry.html">Document
Registry</a>.
The <code class="docutils literal notranslate"><span class="pre">createNew()</span></code> function is called with a NotebookPanel and
<a class="reference external" href="http://jupyterlab.github.io/jupyterlab/interfaces/_docregistry_src_registry_.documentregistry.icontext.html">DocumentContext</a>.
The plugin then creates a ipywidget manager (which uses the context to
interact the kernel and kernel’s comm manager). The plugin then
registers an ipywidget renderer with the notebook instance’s rendermime
(which is specific to that particular notebook).</p>
<p>When an ipywidget model is created in the kernel, a comm message is sent
to the browser and handled by the ipywidget manager to create a
browser-side ipywidget model. When the model is displayed in the kernel,
a <code class="docutils literal notranslate"><span class="pre">display_data</span></code> output is sent to the browser with the ipywidget
model id. The renderer registered in that notebook’s rendermime is asked
to render the output. The renderer asks the ipywidget manager instance
to render the corresponding model, which returns a JavaScript promise.
The renderer creates a container <em>phosphor widget</em> which it hands back
synchronously to the OutputArea, and then fills the container with the
rendered <em>ipywidget</em> when the promise resolves.</p>
<p>Note: The ipywidgets third party extension has not yet been released.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="patterns.html" class="btn btn-neutral float-right" title="Design Patterns" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="documents.html" class="btn btn-neutral" title="Documents" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Project Jupyter.<br/>
        The Jupyter Trademark is registered with the U.S. Patent &amp Trademark Office.
        

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.18.4',
            LANGUAGE:'zh-cn',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>